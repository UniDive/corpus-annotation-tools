<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tools Overview</title>
    <link rel="stylesheet" href="styles.css">
	<script src="script.js"></script>
</head>
<body>
    <div class="sidebar" role="complementary" aria-label="Tool Overview">
        <h2 class="surveyed-tools-title">Surveyed tools</h2>
        <button class="reset-btn" aria-label="Reset Filters">Reset</button>
        <div class="tools">

        </div>
    </div>

    <main class="content">
        <h2>Distribution of features among tools</h2>
        <div class="pivot-table">
            <table>
                <thead>
                    <tr>
                        <th scope="col">Feature</th>
                        <th scope="col">Details</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

        </div>
    </main>

</body>
    <script>
  // On load: set each cardâ€™s --title-width to its <h3> pixel width
  function setDescriptionWidths() {
    document.querySelectorAll('.card').forEach(card => {
      const title = card.querySelector('h3');
      if (!title) return;
      // Measure natural width
      const width = Math.ceil(title.getBoundingClientRect().width);
      card.style.setProperty('--title-width', width + 'px');
    });
  }

  // Handle expand/collapse + move to top
  function setupCards() {
    const cards = document.querySelector('.tools');

    // Event delegation for "more details" buttons
    cards.addEventListener('click', (e) => {
      const btn = e.target.closest('.plus');
      if (!btn) return;

      const card = btn.closest('.card');
      if (!card) return;

      // Collapse any currently expanded card (only one open at a time)
      document.querySelectorAll('.card.expanded').forEach(c => {
        c.classList.remove('expanded');
        c.querySelector('.plus')?.setAttribute('aria-expanded', 'false');
      });

      // Expand this one
      card.classList.add('expanded');
      btn.setAttribute('aria-expanded', 'true');

      // Optional: scroll it into view (since it jumps to top)
      card.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });

    // Reset button (optional)
    document.querySelector('.reset')?.addEventListener('click', () => {
      document.querySelectorAll('.card.expanded').forEach(c => {
        c.classList.remove('expanded');
        c.querySelector('.plus')?.setAttribute('aria-expanded', 'false');
      });
    });
  }

  // Recompute title widths on load and on resize (titles can wrap responsively)
  window.addEventListener('load', () => {
    setDescriptionWidths();
    setupCards();
  });
  window.addEventListener('resize', setDescriptionWidths);
</script>
</html>
